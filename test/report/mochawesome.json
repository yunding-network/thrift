{
  "stats": {
    "suites": 7,
    "tests": 32,
    "passes": 32,
    "pending": 0,
    "failures": 0,
    "start": "2017-05-05T09:35:37.029Z",
    "end": "2017-05-05T09:35:37.296Z",
    "duration": 267,
    "testsRegistered": 32,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false,
    "passPercentClass": "success",
    "pendingPercentClass": "danger"
  },
  "suites": {
    "title": "",
    "suites": [
      {
        "title": "Thrift Client Test",
        "suites": [],
        "tests": [
          {
            "title": "Client create",
            "fullTitle": "Thrift Client Test Client create",
            "timedOut": false,
            "duration": 2,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nshould.exist(client);\nclient.host.should.be.equal(option.host);\nclient.port.should.be.equal(option.port);\nshould.exist(client.opts);\nclient.thrift_gen_path.should.be.equal(option.thrift_gen);\nclient.services_path[serviceName].should.be.equal(service_path);\nclient.types_path[typeName].should.be.equal(type_path);\nshould.exist(client.transport);\nshould.exist(client.protocol);\nshould.exist(client.multiplexer);\nshould.exist(client.services);\nshould.not.exist(client.connection);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_INITED);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "628b662e-8a4e-4df4-b448-6b6375ea3aab",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client create common connect",
            "fullTitle": "Thrift Client Test Client create common connect",
            "timedOut": false,
            "duration": 4,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "32b25e8f-0687-4f68-964e-530666f130a8",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client create http connect",
            "fullTitle": "Thrift Client Test Client create http connect",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  nodeOptions: {\n    path: webOption.path\n  }\n};\nvar client = Client.create(option);\nclient.createHttpConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nshould.exist(client.connection.nodeOptions);\nclient.connection.nodeOptions.host.should.be.equal(option.host);\nclient.connection.nodeOptions.port.should.be.equal(option.port);\nclient.connection.nodeOptions.path.should.be.equal(option.nodeOptions.path);\nclient.connection.nodeOptions.method.should.be.equal('POST');\nshould.exist(client.connection.nodeOptions.headers);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "e94776d6-e072-49ef-b179-e92a9fbfffcb",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client create ws connect",
            "fullTitle": "Thrift Client Test Client create ws connect",
            "timedOut": false,
            "duration": 8,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  path: webOption.path\n};\nvar client = Client.create(option);\nclient.createWSConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nclient.connection.path.should.be.equal(option.path);\nshould.exist(client.connection.wsOptions);\nclient.connection.wsOptions.host.should.be.equal(option.host);\nclient.connection.wsOptions.port.should.be.equal(option.port);\nclient.connection.wsOptions.path.should.be.equal(option.path);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "cd3e1b5f-bcd9-4e6b-b15b-5bb3502d0152",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client create service",
            "fullTitle": "Thrift Client Test Client create service",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nshould.not.exist(client.services[serviceName]);\nvar service = client.getService(serviceName);\nshould.exist(service);\nshould.exist(client.services[serviceName]);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "3df7e3b9-903a-40af-a6a8-a23457d13f8d",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client common invoke add function",
            "fullTitle": "Thrift Client Test Client common invoke add function",
            "timedOut": false,
            "duration": 7,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
            "err": {},
            "isRoot": false,
            "uuid": "8a384cc9-6f7d-4ef7-8a8e-9110726a6ab6",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client http invoke add function",
            "fullTitle": "Thrift Client Test Client http invoke add function",
            "timedOut": false,
            "duration": 11,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  nodeOptions: {\n    path: webOption.path\n  }\n};\nvar client = Client.create(option);\nclient.createHttpConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
            "err": {},
            "isRoot": false,
            "uuid": "0ba7914a-5b27-4540-bec5-e7e6081b8f3c",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client websocket invoke add function",
            "fullTitle": "Thrift Client Test Client websocket invoke add function",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  path: webOption.path\n};\nvar client = Client.create(option);\nclient.createWSConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
            "err": {},
            "isRoot": false,
            "uuid": "a6daf312-7076-425c-a254-275e74cfabb4",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          }
        ],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/client.js",
        "uuid": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
        "fullFile": "/Users/linan/Documents/DDing_GitHub/thrift/test/client.js",
        "passes": [
          {
            "title": "Client create",
            "fullTitle": "Thrift Client Test Client create",
            "timedOut": false,
            "duration": 2,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nshould.exist(client);\nclient.host.should.be.equal(option.host);\nclient.port.should.be.equal(option.port);\nshould.exist(client.opts);\nclient.thrift_gen_path.should.be.equal(option.thrift_gen);\nclient.services_path[serviceName].should.be.equal(service_path);\nclient.types_path[typeName].should.be.equal(type_path);\nshould.exist(client.transport);\nshould.exist(client.protocol);\nshould.exist(client.multiplexer);\nshould.exist(client.services);\nshould.not.exist(client.connection);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_INITED);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "628b662e-8a4e-4df4-b448-6b6375ea3aab",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client create common connect",
            "fullTitle": "Thrift Client Test Client create common connect",
            "timedOut": false,
            "duration": 4,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "32b25e8f-0687-4f68-964e-530666f130a8",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client create http connect",
            "fullTitle": "Thrift Client Test Client create http connect",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  nodeOptions: {\n    path: webOption.path\n  }\n};\nvar client = Client.create(option);\nclient.createHttpConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nshould.exist(client.connection.nodeOptions);\nclient.connection.nodeOptions.host.should.be.equal(option.host);\nclient.connection.nodeOptions.port.should.be.equal(option.port);\nclient.connection.nodeOptions.path.should.be.equal(option.nodeOptions.path);\nclient.connection.nodeOptions.method.should.be.equal('POST');\nshould.exist(client.connection.nodeOptions.headers);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "e94776d6-e072-49ef-b179-e92a9fbfffcb",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client create ws connect",
            "fullTitle": "Thrift Client Test Client create ws connect",
            "timedOut": false,
            "duration": 8,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  path: webOption.path\n};\nvar client = Client.create(option);\nclient.createWSConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nclient.connection.path.should.be.equal(option.path);\nshould.exist(client.connection.wsOptions);\nclient.connection.wsOptions.host.should.be.equal(option.host);\nclient.connection.wsOptions.port.should.be.equal(option.port);\nclient.connection.wsOptions.path.should.be.equal(option.path);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "cd3e1b5f-bcd9-4e6b-b15b-5bb3502d0152",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client create service",
            "fullTitle": "Thrift Client Test Client create service",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nshould.not.exist(client.services[serviceName]);\nvar service = client.getService(serviceName);\nshould.exist(service);\nshould.exist(client.services[serviceName]);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "3df7e3b9-903a-40af-a6a8-a23457d13f8d",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client common invoke add function",
            "fullTitle": "Thrift Client Test Client common invoke add function",
            "timedOut": false,
            "duration": 7,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
            "err": {},
            "isRoot": false,
            "uuid": "8a384cc9-6f7d-4ef7-8a8e-9110726a6ab6",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client http invoke add function",
            "fullTitle": "Thrift Client Test Client http invoke add function",
            "timedOut": false,
            "duration": 11,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  nodeOptions: {\n    path: webOption.path\n  }\n};\nvar client = Client.create(option);\nclient.createHttpConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
            "err": {},
            "isRoot": false,
            "uuid": "0ba7914a-5b27-4540-bec5-e7e6081b8f3c",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          },
          {
            "title": "Client websocket invoke add function",
            "fullTitle": "Thrift Client Test Client websocket invoke add function",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  path: webOption.path\n};\nvar client = Client.create(option);\nclient.createWSConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
            "err": {},
            "isRoot": false,
            "uuid": "a6daf312-7076-425c-a254-275e74cfabb4",
            "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
            "skipped": false
          }
        ],
        "failures": [],
        "skipped": [],
        "hasTests": true,
        "hasSuites": false,
        "totalTests": 8,
        "totalPasses": 8,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": true,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 40,
        "rootEmpty": false
      },
      {
        "title": "Thrift Server Test",
        "suites": [],
        "tests": [
          {
            "title": "Server create",
            "fullTitle": "Thrift Server Test Server create",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar service_path = gen_path + serviceName + '.js';\nvar type_path = gen_path + typeName + '_types.js';\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nshould.exist(server);\nserver.port.should.equal(option.port);\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_INITED);\nshould.not.exist(server.tls);\n\nserver.thrift_gen_path.should.be.equal(option.thrift_gen);\nserver.services_path[serviceName].should.be.equal(service_path);\nserver.types_path[typeName].should.be.equal(type_path);\nshould.exist(server.transport);\nshould.exist(server.protocol);\nshould.exist(server.processor);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "19bc3a66-b03c-4481-9ce8-c4860bf98190",
            "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
            "skipped": false
          },
          {
            "title": "Register service",
            "fullTitle": "Thrift Server Test Register service",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(server.processor.services[serviceName]);\nshould.exist(server.processor.services[serviceName]._handler.add);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "e795ec11-e50e-438d-ae7e-ba28cb157440",
            "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
            "skipped": false
          },
          {
            "title": "Server start",
            "fullTitle": "Thrift Server Test Server start",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nserver.start();\n\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\nshould.exist(server.server);\nshould.exist(server.server._handle);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "07505177-6834-4b7f-95a0-1ce2848b62cb",
            "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
            "skipped": false
          },
          {
            "title": "Server close",
            "fullTitle": "Thrift Server Test Server close",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nserver.start();\nserver.close();\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_CLOSED);\nshould.exist(server.server);\nshould.not.exist(server.server._handle);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "86009796-bc35-4b60-961b-de58991ae3b1",
            "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
            "skipped": false
          }
        ],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/server.js",
        "uuid": "c17f1012-8735-457a-ac07-9d2becdea252",
        "fullFile": "/Users/linan/Documents/DDing_GitHub/thrift/test/server.js",
        "passes": [
          {
            "title": "Server create",
            "fullTitle": "Thrift Server Test Server create",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar service_path = gen_path + serviceName + '.js';\nvar type_path = gen_path + typeName + '_types.js';\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nshould.exist(server);\nserver.port.should.equal(option.port);\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_INITED);\nshould.not.exist(server.tls);\n\nserver.thrift_gen_path.should.be.equal(option.thrift_gen);\nserver.services_path[serviceName].should.be.equal(service_path);\nserver.types_path[typeName].should.be.equal(type_path);\nshould.exist(server.transport);\nshould.exist(server.protocol);\nshould.exist(server.processor);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "19bc3a66-b03c-4481-9ce8-c4860bf98190",
            "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
            "skipped": false
          },
          {
            "title": "Register service",
            "fullTitle": "Thrift Server Test Register service",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(server.processor.services[serviceName]);\nshould.exist(server.processor.services[serviceName]._handler.add);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "e795ec11-e50e-438d-ae7e-ba28cb157440",
            "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
            "skipped": false
          },
          {
            "title": "Server start",
            "fullTitle": "Thrift Server Test Server start",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nserver.start();\n\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\nshould.exist(server.server);\nshould.exist(server.server._handle);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "07505177-6834-4b7f-95a0-1ce2848b62cb",
            "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
            "skipped": false
          },
          {
            "title": "Server close",
            "fullTitle": "Thrift Server Test Server close",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nserver.start();\nserver.close();\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_CLOSED);\nshould.exist(server.server);\nshould.not.exist(server.server._handle);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "86009796-bc35-4b60-961b-de58991ae3b1",
            "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
            "skipped": false
          }
        ],
        "failures": [],
        "skipped": [],
        "hasTests": true,
        "hasSuites": false,
        "totalTests": 4,
        "totalPasses": 4,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": true,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 3,
        "rootEmpty": false
      },
      {
        "title": "Thrift Client With Zookeeper",
        "suites": [],
        "tests": [],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/zclient.js",
        "uuid": "9d2ba8dc-ea9e-456a-8cf1-434c714fdb99",
        "fullFile": "/Users/linan/Documents/DDing_GitHub/thrift/test/zclient.js",
        "passes": [],
        "failures": [],
        "skipped": [],
        "hasTests": false,
        "hasSuites": false,
        "totalTests": 0,
        "totalPasses": 0,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": false,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 0,
        "rootEmpty": false
      },
      {
        "title": "Thrift Server With Zookeeper In Common Connect Test",
        "suites": [],
        "tests": [
          {
            "title": "Server register service",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
            "timedOut": false,
            "duration": 15,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zcs = ZCommonServer.create();\n\t\tzcs.initZookeeper(zkOption);\n\t\tzcs.initConnection(serverOption);\n\t\tzcs.registerService(serviceName, {\n\t      add: function(num1, num2, cb){\n\t        return cb(null, num1+num2);\n\t      }\n\t    });\n\n\t    should.exist(zcs.services[serviceName].add);\n    zcs.start(function(){\n      getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n        should.not.exist(gnErr);\n        should.exist(data);\n        should.exist(state);\n        getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n          should.not.exist(gnErr2);\n          should.exist(data);\n          JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.COMMON);\n          should.exist(state);\n          return next();\n        })\n      });\n    });",
            "err": {},
            "isRoot": false,
            "uuid": "eef43b60-45b3-4fe5-b95e-c2731c24ef89",
            "parentUUID": "27ee830d-2b30-407d-9716-6fec2f6730ff",
            "skipped": false
          }
        ],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/zcserver.js",
        "uuid": "27ee830d-2b30-407d-9716-6fec2f6730ff",
        "fullFile": "/Users/linan/Documents/DDing_GitHub/thrift/test/zcserver.js",
        "passes": [
          {
            "title": "Server register service",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
            "timedOut": false,
            "duration": 15,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zcs = ZCommonServer.create();\n\t\tzcs.initZookeeper(zkOption);\n\t\tzcs.initConnection(serverOption);\n\t\tzcs.registerService(serviceName, {\n\t      add: function(num1, num2, cb){\n\t        return cb(null, num1+num2);\n\t      }\n\t    });\n\n\t    should.exist(zcs.services[serviceName].add);\n    zcs.start(function(){\n      getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n        should.not.exist(gnErr);\n        should.exist(data);\n        should.exist(state);\n        getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n          should.not.exist(gnErr2);\n          should.exist(data);\n          JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.COMMON);\n          should.exist(state);\n          return next();\n        })\n      });\n    });",
            "err": {},
            "isRoot": false,
            "uuid": "eef43b60-45b3-4fe5-b95e-c2731c24ef89",
            "parentUUID": "27ee830d-2b30-407d-9716-6fec2f6730ff",
            "skipped": false
          }
        ],
        "failures": [],
        "skipped": [],
        "hasTests": true,
        "hasSuites": false,
        "totalTests": 1,
        "totalPasses": 1,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": true,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 15,
        "rootEmpty": false
      },
      {
        "title": "Thrift Server With Zookeeper In Common Connect Test",
        "suites": [],
        "tests": [
          {
            "title": "Server register service",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
            "timedOut": false,
            "duration": 7,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zhs = ZHttpServer.create();\nzhs.initZookeeper(zkOption);\nzhs.initConnection(serverOption);\nzhs.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(zhs.services[serviceName].add);\nzhs.start('/', function(){\n  getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n    should.not.exist(gnErr);\n    should.exist(data);\n    should.exist(state);\n    getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n      should.not.exist(gnErr2);\n      should.exist(data);\n      JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.HTTP);\n      should.exist(state);\n      return next();\n    })\n  });\n});",
            "err": {},
            "isRoot": false,
            "uuid": "672317e0-3e36-4d7b-888f-c877ad6e81ab",
            "parentUUID": "a267d6db-0d68-4e76-8c96-d583e1d4c71a",
            "skipped": false
          }
        ],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/zhserver.js",
        "uuid": "a267d6db-0d68-4e76-8c96-d583e1d4c71a",
        "fullFile": "/Users/linan/Documents/DDing_GitHub/thrift/test/zhserver.js",
        "passes": [
          {
            "title": "Server register service",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
            "timedOut": false,
            "duration": 7,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zhs = ZHttpServer.create();\nzhs.initZookeeper(zkOption);\nzhs.initConnection(serverOption);\nzhs.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(zhs.services[serviceName].add);\nzhs.start('/', function(){\n  getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n    should.not.exist(gnErr);\n    should.exist(data);\n    should.exist(state);\n    getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n      should.not.exist(gnErr2);\n      should.exist(data);\n      JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.HTTP);\n      should.exist(state);\n      return next();\n    })\n  });\n});",
            "err": {},
            "isRoot": false,
            "uuid": "672317e0-3e36-4d7b-888f-c877ad6e81ab",
            "parentUUID": "a267d6db-0d68-4e76-8c96-d583e1d4c71a",
            "skipped": false
          }
        ],
        "failures": [],
        "skipped": [],
        "hasTests": true,
        "hasSuites": false,
        "totalTests": 1,
        "totalPasses": 1,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": true,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 7,
        "rootEmpty": false
      },
      {
        "title": "Zookeeper Client Test",
        "suites": [],
        "tests": [
          {
            "title": "zookeeper client create",
            "fullTitle": "Zookeeper Client Test zookeeper client create",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nshould.exist(zk);\nzk.hosts.should.be.equal(options.hosts);\nzk.timeout.should.be.equal(options.timeout);\nzk.debug_level.should.be.equal(options.debug_level);\nshould.not.exist(zk.host_order);\nshould.not.exist(zk.isBuffer);\nshould.exist(zk.zk);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "67ac6f57-dc6c-44d8-ba07-ca81ffe033ef",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client add persistent node",
            "fullTitle": "Zookeeper Client Test zookeeper client add persistent node",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tshould.not.exist(gnvErr);\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\tzk.close();\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "53347c47-b893-4a28-b921-86e4497a9d1d",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client add ephemeral node",
            "fullTitle": "Zookeeper Client Test zookeeper client add ephemeral node",
            "timedOut": false,
            "duration": 5,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createEphemeralNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tshould.not.exist(gnvErr);\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\tzk.close();\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.not.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "60205f11-f477-4383-9d33-88227cdbcf80",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client add child node",
            "fullTitle": "Zookeeper Client Test zookeeper client add child node",
            "timedOut": false,
            "duration": 3,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t\tzk.createPersistentNode(nodePath+'/'+child2, value+':'+child2, function(c2Error, result){\n\t\t\tshould.not.exist(c2Error);\n\t\t\tgetNodeChild_Protogenesis(options, nodePath, function(gncError, childrens){\n\t\t\t\tshould.not.exist(gncError);\n\t\t\t\tchildrens.length.should.be.equal(2);\n\t\t\t\tchildrens.indexOf(child1).should.be.not.equal(-1);\n\t\t\t\tchildrens.indexOf(child2).should.be.not.equal(-1);\n\t\t\t\treturn next();\n\t\t\t})\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "32eb2e4d-6417-41a0-a9c6-cacd93267c79",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client get node value",
            "fullTitle": "Zookeeper Client Test zookeeper client get node value",
            "timedOut": false,
            "duration": 3,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.getNodeValue(nodePath, function(gvErr, value, state){\n\t\tshould.not.exist(gvErr);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\treturn next();\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "aec302b8-ab3f-4d66-9b63-9d39a56dc216",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client get node child",
            "fullTitle": "Zookeeper Client Test zookeeper client get node child",
            "timedOut": false,
            "duration": 3,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t\tzk.createPersistentNode(nodePath+'/'+child2, value+':'+child2, function(c2Error, result){\n\t\t\tshould.not.exist(c2Error);\n\t\t\tzk.getNodeChild(nodePath, function(gncError, childrens){\n\t\t\t\tshould.not.exist(gncError);\n\t\t\t\tchildrens.length.should.be.equal(2);\n\t\t\t\tchildrens.indexOf(child1).should.be.not.equal(-1);\n\t\t\t\tchildrens.indexOf(child2).should.be.not.equal(-1);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "39e62fc4-caeb-4624-b860-9bd7a0559225",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client set node value",
            "fullTitle": "Zookeeper Client Test zookeeper client set node value",
            "timedOut": false,
            "duration": 3,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, 1, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.setNodeValue(nodePath, 2, state1.version, function(setError, state2){\n\t\t\tshould.not.exist(setError);\n\t\t\tshould.exist(state2);\n\t\t\tzk.getNodeValue(nodePath, function(gnvError2, v2){\n\t\t\t\tshould.not.exist(gnvError2);\n\t\t\t\tparseInt(v2).should.be.equal(2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "2cc23393-f494-42e4-8597-4ec5b4ac8c91",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client remove node",
            "fullTitle": "Zookeeper Client Test zookeeper client remove node",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tzk.removeNode(nodePath, function(rnErr){\n\t\t\tshould.not.exist(rnErr);\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.not.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t})\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "a95d71cf-ba3d-42aa-ad16-1cad17536afe",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client exist node",
            "fullTitle": "Zookeeper Client Test zookeeper client exist node",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.existNode(nodePath, function(esErr, state){\n\t\tshould.not.exist(esErr);\n\t\tshould.exist(state);\n\t\treturn next();\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "7861f8cc-eae3-4236-baf2-240f609788ce",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client watch node update twice",
            "fullTitle": "Zookeeper Client Test zookeeper client watch node update twice",
            "timedOut": false,
            "duration": 4,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addWatcher(nodePath);\n\tvar times = 0;\n\tzk.on('set', function(updatePath){\n\t\tupdatePath.should.be.equal(nodePath);\n\t\ttimes++;\n\t\tif(times == 2) return next();\n\t});\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.setNodeValue(nodePath, 'Hello DDing', state1.version, function(setError, state2){\n\t\t\tshould.not.exist(setError);\n\t\t\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\t\t\tshould.not.exist(gnvError);\n\t\t\t\tzk.setNodeValue(nodePath, 'Hello DDing', state1.version, function(setError, state2){\n\t\t\t\t\tshould.not.exist(setError);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "62a4f18a-a085-4a5a-923e-c27ca623ab1f",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client watch node delete",
            "fullTitle": "Zookeeper Client Test zookeeper client watch node delete",
            "timedOut": false,
            "duration": 2,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addWatcher(nodePath);\n\tzk.on('delete', function(deletePath){\n\t\tdeletePath.should.be.equal(nodePath);\n\t\tzk.getNodeValue(nodePath, function(err){\n\t\t\terr.code.should.be.equal(-101);\n\t\t\treturn next();\n\t\t});\n\t});\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.removeNode(nodePath, state1.version, function(delError){\n\t\t\tshould.not.exist(delError);\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "d9deb9df-fbe0-4e54-a2c5-4fef6ad0cc34",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client watch add child node",
            "fullTitle": "Zookeeper Client Test zookeeper client watch add child node",
            "timedOut": false,
            "duration": 5,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addChildWatcher(nodePath);\n\tzk.on('child', function(updatePath){\n\t\tzk.getNodeChild(nodePath, function(gncError, childrens){\n\t\t\tshould.not.exist(gncError);\n\t\t\tif(childrens.indexOf(child1) != -1) return next();\n\t\t});\n\t});\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "86f3a88c-ad5b-4794-9a27-32b6f8481220",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          }
        ],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/zookeeper.js",
        "uuid": "edc911e4-18f8-4410-a0b7-de7487177e27",
        "fullFile": "/Users/linan/Documents/DDing_GitHub/thrift/test/zookeeper.js",
        "passes": [
          {
            "title": "zookeeper client create",
            "fullTitle": "Zookeeper Client Test zookeeper client create",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nshould.exist(zk);\nzk.hosts.should.be.equal(options.hosts);\nzk.timeout.should.be.equal(options.timeout);\nzk.debug_level.should.be.equal(options.debug_level);\nshould.not.exist(zk.host_order);\nshould.not.exist(zk.isBuffer);\nshould.exist(zk.zk);\nreturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "67ac6f57-dc6c-44d8-ba07-ca81ffe033ef",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client add persistent node",
            "fullTitle": "Zookeeper Client Test zookeeper client add persistent node",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tshould.not.exist(gnvErr);\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\tzk.close();\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "53347c47-b893-4a28-b921-86e4497a9d1d",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client add ephemeral node",
            "fullTitle": "Zookeeper Client Test zookeeper client add ephemeral node",
            "timedOut": false,
            "duration": 5,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createEphemeralNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tshould.not.exist(gnvErr);\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\tzk.close();\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.not.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "60205f11-f477-4383-9d33-88227cdbcf80",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client add child node",
            "fullTitle": "Zookeeper Client Test zookeeper client add child node",
            "timedOut": false,
            "duration": 3,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t\tzk.createPersistentNode(nodePath+'/'+child2, value+':'+child2, function(c2Error, result){\n\t\t\tshould.not.exist(c2Error);\n\t\t\tgetNodeChild_Protogenesis(options, nodePath, function(gncError, childrens){\n\t\t\t\tshould.not.exist(gncError);\n\t\t\t\tchildrens.length.should.be.equal(2);\n\t\t\t\tchildrens.indexOf(child1).should.be.not.equal(-1);\n\t\t\t\tchildrens.indexOf(child2).should.be.not.equal(-1);\n\t\t\t\treturn next();\n\t\t\t})\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "32eb2e4d-6417-41a0-a9c6-cacd93267c79",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client get node value",
            "fullTitle": "Zookeeper Client Test zookeeper client get node value",
            "timedOut": false,
            "duration": 3,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.getNodeValue(nodePath, function(gvErr, value, state){\n\t\tshould.not.exist(gvErr);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\treturn next();\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "aec302b8-ab3f-4d66-9b63-9d39a56dc216",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client get node child",
            "fullTitle": "Zookeeper Client Test zookeeper client get node child",
            "timedOut": false,
            "duration": 3,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t\tzk.createPersistentNode(nodePath+'/'+child2, value+':'+child2, function(c2Error, result){\n\t\t\tshould.not.exist(c2Error);\n\t\t\tzk.getNodeChild(nodePath, function(gncError, childrens){\n\t\t\t\tshould.not.exist(gncError);\n\t\t\t\tchildrens.length.should.be.equal(2);\n\t\t\t\tchildrens.indexOf(child1).should.be.not.equal(-1);\n\t\t\t\tchildrens.indexOf(child2).should.be.not.equal(-1);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "39e62fc4-caeb-4624-b860-9bd7a0559225",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client set node value",
            "fullTitle": "Zookeeper Client Test zookeeper client set node value",
            "timedOut": false,
            "duration": 3,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, 1, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.setNodeValue(nodePath, 2, state1.version, function(setError, state2){\n\t\t\tshould.not.exist(setError);\n\t\t\tshould.exist(state2);\n\t\t\tzk.getNodeValue(nodePath, function(gnvError2, v2){\n\t\t\t\tshould.not.exist(gnvError2);\n\t\t\t\tparseInt(v2).should.be.equal(2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "2cc23393-f494-42e4-8597-4ec5b4ac8c91",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client remove node",
            "fullTitle": "Zookeeper Client Test zookeeper client remove node",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tzk.removeNode(nodePath, function(rnErr){\n\t\t\tshould.not.exist(rnErr);\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.not.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t})\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "a95d71cf-ba3d-42aa-ad16-1cad17536afe",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client exist node",
            "fullTitle": "Zookeeper Client Test zookeeper client exist node",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.existNode(nodePath, function(esErr, state){\n\t\tshould.not.exist(esErr);\n\t\tshould.exist(state);\n\t\treturn next();\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "7861f8cc-eae3-4236-baf2-240f609788ce",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client watch node update twice",
            "fullTitle": "Zookeeper Client Test zookeeper client watch node update twice",
            "timedOut": false,
            "duration": 4,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addWatcher(nodePath);\n\tvar times = 0;\n\tzk.on('set', function(updatePath){\n\t\tupdatePath.should.be.equal(nodePath);\n\t\ttimes++;\n\t\tif(times == 2) return next();\n\t});\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.setNodeValue(nodePath, 'Hello DDing', state1.version, function(setError, state2){\n\t\t\tshould.not.exist(setError);\n\t\t\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\t\t\tshould.not.exist(gnvError);\n\t\t\t\tzk.setNodeValue(nodePath, 'Hello DDing', state1.version, function(setError, state2){\n\t\t\t\t\tshould.not.exist(setError);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "62a4f18a-a085-4a5a-923e-c27ca623ab1f",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client watch node delete",
            "fullTitle": "Zookeeper Client Test zookeeper client watch node delete",
            "timedOut": false,
            "duration": 2,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addWatcher(nodePath);\n\tzk.on('delete', function(deletePath){\n\t\tdeletePath.should.be.equal(nodePath);\n\t\tzk.getNodeValue(nodePath, function(err){\n\t\t\terr.code.should.be.equal(-101);\n\t\t\treturn next();\n\t\t});\n\t});\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.removeNode(nodePath, state1.version, function(delError){\n\t\t\tshould.not.exist(delError);\n\t\t});\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "d9deb9df-fbe0-4e54-a2c5-4fef6ad0cc34",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          },
          {
            "title": "zookeeper client watch add child node",
            "fullTitle": "Zookeeper Client Test zookeeper client watch add child node",
            "timedOut": false,
            "duration": 5,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addChildWatcher(nodePath);\n\tzk.on('child', function(updatePath){\n\t\tzk.getNodeChild(nodePath, function(gncError, childrens){\n\t\t\tshould.not.exist(gncError);\n\t\t\tif(childrens.indexOf(child1) != -1) return next();\n\t\t});\n\t});\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t});\n});",
            "err": {},
            "isRoot": false,
            "uuid": "86f3a88c-ad5b-4794-9a27-32b6f8481220",
            "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
            "skipped": false
          }
        ],
        "failures": [],
        "skipped": [],
        "hasTests": true,
        "hasSuites": false,
        "totalTests": 12,
        "totalPasses": 12,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": true,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 42,
        "rootEmpty": false
      },
      {
        "title": "Thrift Server With Zookeeper In Common Connect Test",
        "suites": [],
        "tests": [
          {
            "title": "Server create",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server create",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tshould.exist(zs);\n\t\treturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "a948fee2-bcc9-441f-ac21-a9f1e7d15aa2",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          },
          {
            "title": "Server init zookeeper",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server init zookeeper",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tshould.exist(zs.zookeeperOpts);\n\t\tshould.exist(zs.zookeeper);\n\t\treturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "c16d4245-6450-4a49-a8eb-816b899ac305",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          },
          {
            "title": "Server init connection",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server init connection",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\t\tshould.exist(zs.connectionOpts);\n\t\tshould.exist(zs.connection);\n\t\tshould.exist(zs.services);\n\t\tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_INITED);\n\t\treturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "3ddaddf6-b66d-4f21-80d5-199ff7d2a7c8",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          },
          {
            "title": "Server start",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server start",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\n\t    zs.start(function(){\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\n\t    \treturn next();\n\t    });",
            "err": {},
            "isRoot": false,
            "uuid": "9752ebac-b325-4ac6-be02-de780d601421",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          },
          {
            "title": "Server close",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server close",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\n\t    zs.start(function(){\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\n\t    \tzs.close();\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_CLOSED);\n\t    \treturn next();\n\t    });",
            "err": {},
            "isRoot": false,
            "uuid": "da4532c1-855f-427a-8119-e09009cce098",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          }
        ],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/zserver.js",
        "uuid": "3c3b3cd6-5753-4c46-8907-114730399aa3",
        "fullFile": "/Users/linan/Documents/DDing_GitHub/thrift/test/zserver.js",
        "passes": [
          {
            "title": "Server create",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server create",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tshould.exist(zs);\n\t\treturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "a948fee2-bcc9-441f-ac21-a9f1e7d15aa2",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          },
          {
            "title": "Server init zookeeper",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server init zookeeper",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tshould.exist(zs.zookeeperOpts);\n\t\tshould.exist(zs.zookeeper);\n\t\treturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "c16d4245-6450-4a49-a8eb-816b899ac305",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          },
          {
            "title": "Server init connection",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server init connection",
            "timedOut": false,
            "duration": 0,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\t\tshould.exist(zs.connectionOpts);\n\t\tshould.exist(zs.connection);\n\t\tshould.exist(zs.services);\n\t\tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_INITED);\n\t\treturn next();",
            "err": {},
            "isRoot": false,
            "uuid": "3ddaddf6-b66d-4f21-80d5-199ff7d2a7c8",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          },
          {
            "title": "Server start",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server start",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\n\t    zs.start(function(){\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\n\t    \treturn next();\n\t    });",
            "err": {},
            "isRoot": false,
            "uuid": "9752ebac-b325-4ac6-be02-de780d601421",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          },
          {
            "title": "Server close",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server close",
            "timedOut": false,
            "duration": 1,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\n\t    zs.start(function(){\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\n\t    \tzs.close();\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_CLOSED);\n\t    \treturn next();\n\t    });",
            "err": {},
            "isRoot": false,
            "uuid": "da4532c1-855f-427a-8119-e09009cce098",
            "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
            "skipped": false
          }
        ],
        "failures": [],
        "skipped": [],
        "hasTests": true,
        "hasSuites": false,
        "totalTests": 5,
        "totalPasses": 5,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": true,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 2,
        "rootEmpty": false
      },
      {
        "title": "Thrift Server With Zookeeper In Common Connect Test",
        "suites": [],
        "tests": [
          {
            "title": "Server register service",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zwss = ZWSServer.create();\nzwss.initZookeeper(zkOption);\nzwss.initConnection(serverOption);\nzwss.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(zwss.services[serviceName].add);\nzwss.start('/', function(){\n  getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n    should.not.exist(gnErr);\n    should.exist(data);\n    should.exist(state);\n    getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n      should.not.exist(gnErr2);\n      should.exist(data);\n      JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.WEB_SOCKET);\n      should.exist(state);\n      return next();\n    })\n  });\n});",
            "err": {},
            "isRoot": false,
            "uuid": "5bedd760-2746-42d0-a6ce-c2d572f0c183",
            "parentUUID": "a0c8a277-3be3-42f1-b6cf-83f6827f1a7a",
            "skipped": false
          }
        ],
        "pending": [],
        "root": false,
        "_timeout": 2000,
        "file": "/zwsserver.js",
        "uuid": "a0c8a277-3be3-42f1-b6cf-83f6827f1a7a",
        "fullFile": "/Users/linan/Documents/DDing_GitHub/thrift/test/zwsserver.js",
        "passes": [
          {
            "title": "Server register service",
            "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
            "timedOut": false,
            "duration": 6,
            "state": "passed",
            "speed": "fast",
            "pass": true,
            "fail": false,
            "pending": false,
            "code": "zwss = ZWSServer.create();\nzwss.initZookeeper(zkOption);\nzwss.initConnection(serverOption);\nzwss.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(zwss.services[serviceName].add);\nzwss.start('/', function(){\n  getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n    should.not.exist(gnErr);\n    should.exist(data);\n    should.exist(state);\n    getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n      should.not.exist(gnErr2);\n      should.exist(data);\n      JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.WEB_SOCKET);\n      should.exist(state);\n      return next();\n    })\n  });\n});",
            "err": {},
            "isRoot": false,
            "uuid": "5bedd760-2746-42d0-a6ce-c2d572f0c183",
            "parentUUID": "a0c8a277-3be3-42f1-b6cf-83f6827f1a7a",
            "skipped": false
          }
        ],
        "failures": [],
        "skipped": [],
        "hasTests": true,
        "hasSuites": false,
        "totalTests": 1,
        "totalPasses": 1,
        "totalFailures": 0,
        "totalPending": 0,
        "totalSkipped": 0,
        "hasPasses": true,
        "hasFailures": false,
        "hasPending": false,
        "hasSkipped": false,
        "duration": 6,
        "rootEmpty": false
      }
    ],
    "tests": [],
    "pending": [],
    "root": true,
    "_timeout": 2000,
    "uuid": "c3442f9d-b0ac-4747-9c28-3d96c43b2453",
    "fullFile": "",
    "file": "",
    "passes": [],
    "failures": [],
    "skipped": [],
    "hasTests": false,
    "hasSuites": true,
    "totalTests": 0,
    "totalPasses": 0,
    "totalFailures": 0,
    "totalPending": 0,
    "totalSkipped": 0,
    "hasPasses": false,
    "hasFailures": false,
    "hasPending": false,
    "hasSkipped": false,
    "duration": 0,
    "rootEmpty": true
  },
  "allTests": [
    {
      "title": "Client create",
      "fullTitle": "Thrift Client Test Client create",
      "timedOut": false,
      "duration": 2,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nshould.exist(client);\nclient.host.should.be.equal(option.host);\nclient.port.should.be.equal(option.port);\nshould.exist(client.opts);\nclient.thrift_gen_path.should.be.equal(option.thrift_gen);\nclient.services_path[serviceName].should.be.equal(service_path);\nclient.types_path[typeName].should.be.equal(type_path);\nshould.exist(client.transport);\nshould.exist(client.protocol);\nshould.exist(client.multiplexer);\nshould.exist(client.services);\nshould.not.exist(client.connection);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_INITED);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "628b662e-8a4e-4df4-b448-6b6375ea3aab",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client create common connect",
      "fullTitle": "Thrift Client Test Client create common connect",
      "timedOut": false,
      "duration": 4,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "32b25e8f-0687-4f68-964e-530666f130a8",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client create http connect",
      "fullTitle": "Thrift Client Test Client create http connect",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  nodeOptions: {\n    path: webOption.path\n  }\n};\nvar client = Client.create(option);\nclient.createHttpConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nshould.exist(client.connection.nodeOptions);\nclient.connection.nodeOptions.host.should.be.equal(option.host);\nclient.connection.nodeOptions.port.should.be.equal(option.port);\nclient.connection.nodeOptions.path.should.be.equal(option.nodeOptions.path);\nclient.connection.nodeOptions.method.should.be.equal('POST');\nshould.exist(client.connection.nodeOptions.headers);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "e94776d6-e072-49ef-b179-e92a9fbfffcb",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client create ws connect",
      "fullTitle": "Thrift Client Test Client create ws connect",
      "timedOut": false,
      "duration": 8,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  path: webOption.path\n};\nvar client = Client.create(option);\nclient.createWSConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nclient.connection.path.should.be.equal(option.path);\nshould.exist(client.connection.wsOptions);\nclient.connection.wsOptions.host.should.be.equal(option.host);\nclient.connection.wsOptions.port.should.be.equal(option.port);\nclient.connection.wsOptions.path.should.be.equal(option.path);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "cd3e1b5f-bcd9-4e6b-b15b-5bb3502d0152",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client create service",
      "fullTitle": "Thrift Client Test Client create service",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nshould.not.exist(client.services[serviceName]);\nvar service = client.getService(serviceName);\nshould.exist(service);\nshould.exist(client.services[serviceName]);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "3df7e3b9-903a-40af-a6a8-a23457d13f8d",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client common invoke add function",
      "fullTitle": "Thrift Client Test Client common invoke add function",
      "timedOut": false,
      "duration": 7,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "8a384cc9-6f7d-4ef7-8a8e-9110726a6ab6",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client http invoke add function",
      "fullTitle": "Thrift Client Test Client http invoke add function",
      "timedOut": false,
      "duration": 11,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  nodeOptions: {\n    path: webOption.path\n  }\n};\nvar client = Client.create(option);\nclient.createHttpConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "0ba7914a-5b27-4540-bec5-e7e6081b8f3c",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client websocket invoke add function",
      "fullTitle": "Thrift Client Test Client websocket invoke add function",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  path: webOption.path\n};\nvar client = Client.create(option);\nclient.createWSConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "a6daf312-7076-425c-a254-275e74cfabb4",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Server create",
      "fullTitle": "Thrift Server Test Server create",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar service_path = gen_path + serviceName + '.js';\nvar type_path = gen_path + typeName + '_types.js';\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nshould.exist(server);\nserver.port.should.equal(option.port);\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_INITED);\nshould.not.exist(server.tls);\n\nserver.thrift_gen_path.should.be.equal(option.thrift_gen);\nserver.services_path[serviceName].should.be.equal(service_path);\nserver.types_path[typeName].should.be.equal(type_path);\nshould.exist(server.transport);\nshould.exist(server.protocol);\nshould.exist(server.processor);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "19bc3a66-b03c-4481-9ce8-c4860bf98190",
      "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
      "skipped": false
    },
    {
      "title": "Register service",
      "fullTitle": "Thrift Server Test Register service",
      "timedOut": false,
      "duration": 0,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(server.processor.services[serviceName]);\nshould.exist(server.processor.services[serviceName]._handler.add);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "e795ec11-e50e-438d-ae7e-ba28cb157440",
      "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
      "skipped": false
    },
    {
      "title": "Server start",
      "fullTitle": "Thrift Server Test Server start",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nserver.start();\n\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\nshould.exist(server.server);\nshould.exist(server.server._handle);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "07505177-6834-4b7f-95a0-1ce2848b62cb",
      "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
      "skipped": false
    },
    {
      "title": "Server close",
      "fullTitle": "Thrift Server Test Server close",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nserver.start();\nserver.close();\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_CLOSED);\nshould.exist(server.server);\nshould.not.exist(server.server._handle);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "86009796-bc35-4b60-961b-de58991ae3b1",
      "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
      "skipped": false
    },
    {
      "title": "Server register service",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
      "timedOut": false,
      "duration": 15,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zcs = ZCommonServer.create();\n\t\tzcs.initZookeeper(zkOption);\n\t\tzcs.initConnection(serverOption);\n\t\tzcs.registerService(serviceName, {\n\t      add: function(num1, num2, cb){\n\t        return cb(null, num1+num2);\n\t      }\n\t    });\n\n\t    should.exist(zcs.services[serviceName].add);\n    zcs.start(function(){\n      getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n        should.not.exist(gnErr);\n        should.exist(data);\n        should.exist(state);\n        getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n          should.not.exist(gnErr2);\n          should.exist(data);\n          JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.COMMON);\n          should.exist(state);\n          return next();\n        })\n      });\n    });",
      "err": {},
      "isRoot": false,
      "uuid": "eef43b60-45b3-4fe5-b95e-c2731c24ef89",
      "parentUUID": "27ee830d-2b30-407d-9716-6fec2f6730ff",
      "skipped": false
    },
    {
      "title": "Server register service",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
      "timedOut": false,
      "duration": 7,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zhs = ZHttpServer.create();\nzhs.initZookeeper(zkOption);\nzhs.initConnection(serverOption);\nzhs.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(zhs.services[serviceName].add);\nzhs.start('/', function(){\n  getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n    should.not.exist(gnErr);\n    should.exist(data);\n    should.exist(state);\n    getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n      should.not.exist(gnErr2);\n      should.exist(data);\n      JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.HTTP);\n      should.exist(state);\n      return next();\n    })\n  });\n});",
      "err": {},
      "isRoot": false,
      "uuid": "672317e0-3e36-4d7b-888f-c877ad6e81ab",
      "parentUUID": "a267d6db-0d68-4e76-8c96-d583e1d4c71a",
      "skipped": false
    },
    {
      "title": "zookeeper client create",
      "fullTitle": "Zookeeper Client Test zookeeper client create",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nshould.exist(zk);\nzk.hosts.should.be.equal(options.hosts);\nzk.timeout.should.be.equal(options.timeout);\nzk.debug_level.should.be.equal(options.debug_level);\nshould.not.exist(zk.host_order);\nshould.not.exist(zk.isBuffer);\nshould.exist(zk.zk);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "67ac6f57-dc6c-44d8-ba07-ca81ffe033ef",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client add persistent node",
      "fullTitle": "Zookeeper Client Test zookeeper client add persistent node",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tshould.not.exist(gnvErr);\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\tzk.close();\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "53347c47-b893-4a28-b921-86e4497a9d1d",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client add ephemeral node",
      "fullTitle": "Zookeeper Client Test zookeeper client add ephemeral node",
      "timedOut": false,
      "duration": 5,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createEphemeralNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tshould.not.exist(gnvErr);\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\tzk.close();\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.not.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "60205f11-f477-4383-9d33-88227cdbcf80",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client add child node",
      "fullTitle": "Zookeeper Client Test zookeeper client add child node",
      "timedOut": false,
      "duration": 3,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t\tzk.createPersistentNode(nodePath+'/'+child2, value+':'+child2, function(c2Error, result){\n\t\t\tshould.not.exist(c2Error);\n\t\t\tgetNodeChild_Protogenesis(options, nodePath, function(gncError, childrens){\n\t\t\t\tshould.not.exist(gncError);\n\t\t\t\tchildrens.length.should.be.equal(2);\n\t\t\t\tchildrens.indexOf(child1).should.be.not.equal(-1);\n\t\t\t\tchildrens.indexOf(child2).should.be.not.equal(-1);\n\t\t\t\treturn next();\n\t\t\t})\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "32eb2e4d-6417-41a0-a9c6-cacd93267c79",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client get node value",
      "fullTitle": "Zookeeper Client Test zookeeper client get node value",
      "timedOut": false,
      "duration": 3,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.getNodeValue(nodePath, function(gvErr, value, state){\n\t\tshould.not.exist(gvErr);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\treturn next();\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "aec302b8-ab3f-4d66-9b63-9d39a56dc216",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client get node child",
      "fullTitle": "Zookeeper Client Test zookeeper client get node child",
      "timedOut": false,
      "duration": 3,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t\tzk.createPersistentNode(nodePath+'/'+child2, value+':'+child2, function(c2Error, result){\n\t\t\tshould.not.exist(c2Error);\n\t\t\tzk.getNodeChild(nodePath, function(gncError, childrens){\n\t\t\t\tshould.not.exist(gncError);\n\t\t\t\tchildrens.length.should.be.equal(2);\n\t\t\t\tchildrens.indexOf(child1).should.be.not.equal(-1);\n\t\t\t\tchildrens.indexOf(child2).should.be.not.equal(-1);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "39e62fc4-caeb-4624-b860-9bd7a0559225",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client set node value",
      "fullTitle": "Zookeeper Client Test zookeeper client set node value",
      "timedOut": false,
      "duration": 3,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, 1, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.setNodeValue(nodePath, 2, state1.version, function(setError, state2){\n\t\t\tshould.not.exist(setError);\n\t\t\tshould.exist(state2);\n\t\t\tzk.getNodeValue(nodePath, function(gnvError2, v2){\n\t\t\t\tshould.not.exist(gnvError2);\n\t\t\t\tparseInt(v2).should.be.equal(2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "2cc23393-f494-42e4-8597-4ec5b4ac8c91",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client remove node",
      "fullTitle": "Zookeeper Client Test zookeeper client remove node",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tzk.removeNode(nodePath, function(rnErr){\n\t\t\tshould.not.exist(rnErr);\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.not.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t})\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "a95d71cf-ba3d-42aa-ad16-1cad17536afe",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client exist node",
      "fullTitle": "Zookeeper Client Test zookeeper client exist node",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.existNode(nodePath, function(esErr, state){\n\t\tshould.not.exist(esErr);\n\t\tshould.exist(state);\n\t\treturn next();\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "7861f8cc-eae3-4236-baf2-240f609788ce",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client watch node update twice",
      "fullTitle": "Zookeeper Client Test zookeeper client watch node update twice",
      "timedOut": false,
      "duration": 4,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addWatcher(nodePath);\n\tvar times = 0;\n\tzk.on('set', function(updatePath){\n\t\tupdatePath.should.be.equal(nodePath);\n\t\ttimes++;\n\t\tif(times == 2) return next();\n\t});\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.setNodeValue(nodePath, 'Hello DDing', state1.version, function(setError, state2){\n\t\t\tshould.not.exist(setError);\n\t\t\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\t\t\tshould.not.exist(gnvError);\n\t\t\t\tzk.setNodeValue(nodePath, 'Hello DDing', state1.version, function(setError, state2){\n\t\t\t\t\tshould.not.exist(setError);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "62a4f18a-a085-4a5a-923e-c27ca623ab1f",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client watch node delete",
      "fullTitle": "Zookeeper Client Test zookeeper client watch node delete",
      "timedOut": false,
      "duration": 2,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addWatcher(nodePath);\n\tzk.on('delete', function(deletePath){\n\t\tdeletePath.should.be.equal(nodePath);\n\t\tzk.getNodeValue(nodePath, function(err){\n\t\t\terr.code.should.be.equal(-101);\n\t\t\treturn next();\n\t\t});\n\t});\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.removeNode(nodePath, state1.version, function(delError){\n\t\t\tshould.not.exist(delError);\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "d9deb9df-fbe0-4e54-a2c5-4fef6ad0cc34",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client watch add child node",
      "fullTitle": "Zookeeper Client Test zookeeper client watch add child node",
      "timedOut": false,
      "duration": 5,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addChildWatcher(nodePath);\n\tzk.on('child', function(updatePath){\n\t\tzk.getNodeChild(nodePath, function(gncError, childrens){\n\t\t\tshould.not.exist(gncError);\n\t\t\tif(childrens.indexOf(child1) != -1) return next();\n\t\t});\n\t});\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "86f3a88c-ad5b-4794-9a27-32b6f8481220",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "Server create",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server create",
      "timedOut": false,
      "duration": 0,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tshould.exist(zs);\n\t\treturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "a948fee2-bcc9-441f-ac21-a9f1e7d15aa2",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server init zookeeper",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server init zookeeper",
      "timedOut": false,
      "duration": 0,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tshould.exist(zs.zookeeperOpts);\n\t\tshould.exist(zs.zookeeper);\n\t\treturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "c16d4245-6450-4a49-a8eb-816b899ac305",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server init connection",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server init connection",
      "timedOut": false,
      "duration": 0,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\t\tshould.exist(zs.connectionOpts);\n\t\tshould.exist(zs.connection);\n\t\tshould.exist(zs.services);\n\t\tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_INITED);\n\t\treturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "3ddaddf6-b66d-4f21-80d5-199ff7d2a7c8",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server start",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server start",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\n\t    zs.start(function(){\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\n\t    \treturn next();\n\t    });",
      "err": {},
      "isRoot": false,
      "uuid": "9752ebac-b325-4ac6-be02-de780d601421",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server close",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server close",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\n\t    zs.start(function(){\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\n\t    \tzs.close();\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_CLOSED);\n\t    \treturn next();\n\t    });",
      "err": {},
      "isRoot": false,
      "uuid": "da4532c1-855f-427a-8119-e09009cce098",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server register service",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zwss = ZWSServer.create();\nzwss.initZookeeper(zkOption);\nzwss.initConnection(serverOption);\nzwss.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(zwss.services[serviceName].add);\nzwss.start('/', function(){\n  getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n    should.not.exist(gnErr);\n    should.exist(data);\n    should.exist(state);\n    getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n      should.not.exist(gnErr2);\n      should.exist(data);\n      JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.WEB_SOCKET);\n      should.exist(state);\n      return next();\n    })\n  });\n});",
      "err": {},
      "isRoot": false,
      "uuid": "5bedd760-2746-42d0-a6ce-c2d572f0c183",
      "parentUUID": "a0c8a277-3be3-42f1-b6cf-83f6827f1a7a",
      "skipped": false
    }
  ],
  "allPending": [],
  "allPasses": [
    {
      "title": "Client create",
      "fullTitle": "Thrift Client Test Client create",
      "timedOut": false,
      "duration": 2,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nshould.exist(client);\nclient.host.should.be.equal(option.host);\nclient.port.should.be.equal(option.port);\nshould.exist(client.opts);\nclient.thrift_gen_path.should.be.equal(option.thrift_gen);\nclient.services_path[serviceName].should.be.equal(service_path);\nclient.types_path[typeName].should.be.equal(type_path);\nshould.exist(client.transport);\nshould.exist(client.protocol);\nshould.exist(client.multiplexer);\nshould.exist(client.services);\nshould.not.exist(client.connection);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_INITED);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "628b662e-8a4e-4df4-b448-6b6375ea3aab",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client create common connect",
      "fullTitle": "Thrift Client Test Client create common connect",
      "timedOut": false,
      "duration": 4,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "32b25e8f-0687-4f68-964e-530666f130a8",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client create http connect",
      "fullTitle": "Thrift Client Test Client create http connect",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  nodeOptions: {\n    path: webOption.path\n  }\n};\nvar client = Client.create(option);\nclient.createHttpConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nshould.exist(client.connection.nodeOptions);\nclient.connection.nodeOptions.host.should.be.equal(option.host);\nclient.connection.nodeOptions.port.should.be.equal(option.port);\nclient.connection.nodeOptions.path.should.be.equal(option.nodeOptions.path);\nclient.connection.nodeOptions.method.should.be.equal('POST');\nshould.exist(client.connection.nodeOptions.headers);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "e94776d6-e072-49ef-b179-e92a9fbfffcb",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client create ws connect",
      "fullTitle": "Thrift Client Test Client create ws connect",
      "timedOut": false,
      "duration": 8,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  path: webOption.path\n};\nvar client = Client.create(option);\nclient.createWSConnect();\nshould.exist(client.connection);\nclient.connection.host.should.be.equal(option.host);\nclient.connection.port.should.be.equal(option.port);\nclient.connection.path.should.be.equal(option.path);\nshould.exist(client.connection.wsOptions);\nclient.connection.wsOptions.host.should.be.equal(option.host);\nclient.connection.wsOptions.port.should.be.equal(option.port);\nclient.connection.wsOptions.path.should.be.equal(option.path);\nclient.state.should.be.equal(DDing_thrift.CLIENT_STATE.STATE_CONNECTED);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "cd3e1b5f-bcd9-4e6b-b15b-5bb3502d0152",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client create service",
      "fullTitle": "Thrift Client Test Client create service",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nshould.not.exist(client.services[serviceName]);\nvar service = client.getService(serviceName);\nshould.exist(service);\nshould.exist(client.services[serviceName]);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "3df7e3b9-903a-40af-a6a8-a23457d13f8d",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client common invoke add function",
      "fullTitle": "Thrift Client Test Client common invoke add function",
      "timedOut": false,
      "duration": 7,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: serverOption.port,\n  thrift_gen: gen_path\n};\nvar client = Client.create(option);\nclient.createConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "8a384cc9-6f7d-4ef7-8a8e-9110726a6ab6",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client http invoke add function",
      "fullTitle": "Thrift Client Test Client http invoke add function",
      "timedOut": false,
      "duration": 11,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  nodeOptions: {\n    path: webOption.path\n  }\n};\nvar client = Client.create(option);\nclient.createHttpConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "0ba7914a-5b27-4540-bec5-e7e6081b8f3c",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Client websocket invoke add function",
      "fullTitle": "Thrift Client Test Client websocket invoke add function",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var option = {\n  host: '127.0.0.1',\n  port: webOption.port,\n  thrift_gen: gen_path,\n  path: webOption.path\n};\nvar client = Client.create(option);\nclient.createWSConnect();\nvar service = client.getService(serviceName);\nvar num1 = 1,\n    num2 = 2;\nservice.add(num1, num2, function(error, result){\n  should.not.exist(error);\n  result.should.be.equal(num1+num2);\n  return next();\n});",
      "err": {},
      "isRoot": false,
      "uuid": "a6daf312-7076-425c-a254-275e74cfabb4",
      "parentUUID": "02df05fa-d6b3-4cfb-a87d-ccc4de12f7c3",
      "skipped": false
    },
    {
      "title": "Server create",
      "fullTitle": "Thrift Server Test Server create",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar service_path = gen_path + serviceName + '.js';\nvar type_path = gen_path + typeName + '_types.js';\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nshould.exist(server);\nserver.port.should.equal(option.port);\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_INITED);\nshould.not.exist(server.tls);\n\nserver.thrift_gen_path.should.be.equal(option.thrift_gen);\nserver.services_path[serviceName].should.be.equal(service_path);\nserver.types_path[typeName].should.be.equal(type_path);\nshould.exist(server.transport);\nshould.exist(server.protocol);\nshould.exist(server.processor);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "19bc3a66-b03c-4481-9ce8-c4860bf98190",
      "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
      "skipped": false
    },
    {
      "title": "Register service",
      "fullTitle": "Thrift Server Test Register service",
      "timedOut": false,
      "duration": 0,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(server.processor.services[serviceName]);\nshould.exist(server.processor.services[serviceName]._handler.add);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "e795ec11-e50e-438d-ae7e-ba28cb157440",
      "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
      "skipped": false
    },
    {
      "title": "Server start",
      "fullTitle": "Thrift Server Test Server start",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nserver.start();\n\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\nshould.exist(server.server);\nshould.exist(server.server._handle);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "07505177-6834-4b7f-95a0-1ce2848b62cb",
      "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
      "skipped": false
    },
    {
      "title": "Server close",
      "fullTitle": "Thrift Server Test Server close",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var gen_path = path.normalize(__dirname+'/'+'./gen-nodejs/');\nvar option = {\n  port: 3000,\n  thrift_gen: gen_path\n};\nserver = Server.create(option);\nserver.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nserver.start();\nserver.close();\nserver.state.should.equal(DDing_thrift.SERVER_STATE.STATE_CLOSED);\nshould.exist(server.server);\nshould.not.exist(server.server._handle);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "86009796-bc35-4b60-961b-de58991ae3b1",
      "parentUUID": "c17f1012-8735-457a-ac07-9d2becdea252",
      "skipped": false
    },
    {
      "title": "Server register service",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
      "timedOut": false,
      "duration": 15,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zcs = ZCommonServer.create();\n\t\tzcs.initZookeeper(zkOption);\n\t\tzcs.initConnection(serverOption);\n\t\tzcs.registerService(serviceName, {\n\t      add: function(num1, num2, cb){\n\t        return cb(null, num1+num2);\n\t      }\n\t    });\n\n\t    should.exist(zcs.services[serviceName].add);\n    zcs.start(function(){\n      getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n        should.not.exist(gnErr);\n        should.exist(data);\n        should.exist(state);\n        getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n          should.not.exist(gnErr2);\n          should.exist(data);\n          JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.COMMON);\n          should.exist(state);\n          return next();\n        })\n      });\n    });",
      "err": {},
      "isRoot": false,
      "uuid": "eef43b60-45b3-4fe5-b95e-c2731c24ef89",
      "parentUUID": "27ee830d-2b30-407d-9716-6fec2f6730ff",
      "skipped": false
    },
    {
      "title": "Server register service",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
      "timedOut": false,
      "duration": 7,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zhs = ZHttpServer.create();\nzhs.initZookeeper(zkOption);\nzhs.initConnection(serverOption);\nzhs.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(zhs.services[serviceName].add);\nzhs.start('/', function(){\n  getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n    should.not.exist(gnErr);\n    should.exist(data);\n    should.exist(state);\n    getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n      should.not.exist(gnErr2);\n      should.exist(data);\n      JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.HTTP);\n      should.exist(state);\n      return next();\n    })\n  });\n});",
      "err": {},
      "isRoot": false,
      "uuid": "672317e0-3e36-4d7b-888f-c877ad6e81ab",
      "parentUUID": "a267d6db-0d68-4e76-8c96-d583e1d4c71a",
      "skipped": false
    },
    {
      "title": "zookeeper client create",
      "fullTitle": "Zookeeper Client Test zookeeper client create",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nshould.exist(zk);\nzk.hosts.should.be.equal(options.hosts);\nzk.timeout.should.be.equal(options.timeout);\nzk.debug_level.should.be.equal(options.debug_level);\nshould.not.exist(zk.host_order);\nshould.not.exist(zk.isBuffer);\nshould.exist(zk.zk);\nreturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "67ac6f57-dc6c-44d8-ba07-ca81ffe033ef",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client add persistent node",
      "fullTitle": "Zookeeper Client Test zookeeper client add persistent node",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tshould.not.exist(gnvErr);\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\tzk.close();\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "53347c47-b893-4a28-b921-86e4497a9d1d",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client add ephemeral node",
      "fullTitle": "Zookeeper Client Test zookeeper client add ephemeral node",
      "timedOut": false,
      "duration": 5,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createEphemeralNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tshould.not.exist(gnvErr);\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\tzk.close();\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.not.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "60205f11-f477-4383-9d33-88227cdbcf80",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client add child node",
      "fullTitle": "Zookeeper Client Test zookeeper client add child node",
      "timedOut": false,
      "duration": 3,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t\tzk.createPersistentNode(nodePath+'/'+child2, value+':'+child2, function(c2Error, result){\n\t\t\tshould.not.exist(c2Error);\n\t\t\tgetNodeChild_Protogenesis(options, nodePath, function(gncError, childrens){\n\t\t\t\tshould.not.exist(gncError);\n\t\t\t\tchildrens.length.should.be.equal(2);\n\t\t\t\tchildrens.indexOf(child1).should.be.not.equal(-1);\n\t\t\t\tchildrens.indexOf(child2).should.be.not.equal(-1);\n\t\t\t\treturn next();\n\t\t\t})\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "32eb2e4d-6417-41a0-a9c6-cacd93267c79",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client get node value",
      "fullTitle": "Zookeeper Client Test zookeeper client get node value",
      "timedOut": false,
      "duration": 3,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.getNodeValue(nodePath, function(gvErr, value, state){\n\t\tshould.not.exist(gvErr);\n\t\tgetNodeValue_Protogenesis(options, nodePath, function(gnvErr, zkValue){\n\t\t\tzkValue.toString().should.be.equal(value);\n\t\t\treturn next();\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "aec302b8-ab3f-4d66-9b63-9d39a56dc216",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client get node child",
      "fullTitle": "Zookeeper Client Test zookeeper client get node child",
      "timedOut": false,
      "duration": 3,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t\tzk.createPersistentNode(nodePath+'/'+child2, value+':'+child2, function(c2Error, result){\n\t\t\tshould.not.exist(c2Error);\n\t\t\tzk.getNodeChild(nodePath, function(gncError, childrens){\n\t\t\t\tshould.not.exist(gncError);\n\t\t\t\tchildrens.length.should.be.equal(2);\n\t\t\t\tchildrens.indexOf(child1).should.be.not.equal(-1);\n\t\t\t\tchildrens.indexOf(child2).should.be.not.equal(-1);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "39e62fc4-caeb-4624-b860-9bd7a0559225",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client set node value",
      "fullTitle": "Zookeeper Client Test zookeeper client set node value",
      "timedOut": false,
      "duration": 3,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, 1, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.setNodeValue(nodePath, 2, state1.version, function(setError, state2){\n\t\t\tshould.not.exist(setError);\n\t\t\tshould.exist(state2);\n\t\t\tzk.getNodeValue(nodePath, function(gnvError2, v2){\n\t\t\t\tshould.not.exist(gnvError2);\n\t\t\t\tparseInt(v2).should.be.equal(2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "2cc23393-f494-42e4-8597-4ec5b4ac8c91",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client remove node",
      "fullTitle": "Zookeeper Client Test zookeeper client remove node",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tresult.should.be.equal(nodePath);\n\texistNode_Protogenesis(options, nodePath, function(enError, state){\n\t\tshould.not.exist(enError);\n\t\tshould.exist(state);\n\t\tzk.removeNode(nodePath, function(rnErr){\n\t\t\tshould.not.exist(rnErr);\n\t\t\texistNode_Protogenesis(options, nodePath, function(enError2, state2){\n\t\t\t\tshould.not.exist(enError2);\n\t\t\t\tshould.not.exist(state2);\n\t\t\t\treturn next();\n\t\t\t});\n\t\t})\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "a95d71cf-ba3d-42aa-ad16-1cad17536afe",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client exist node",
      "fullTitle": "Zookeeper Client Test zookeeper client exist node",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.existNode(nodePath, function(esErr, state){\n\t\tshould.not.exist(esErr);\n\t\tshould.exist(state);\n\t\treturn next();\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "7861f8cc-eae3-4236-baf2-240f609788ce",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client watch node update twice",
      "fullTitle": "Zookeeper Client Test zookeeper client watch node update twice",
      "timedOut": false,
      "duration": 4,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addWatcher(nodePath);\n\tvar times = 0;\n\tzk.on('set', function(updatePath){\n\t\tupdatePath.should.be.equal(nodePath);\n\t\ttimes++;\n\t\tif(times == 2) return next();\n\t});\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.setNodeValue(nodePath, 'Hello DDing', state1.version, function(setError, state2){\n\t\t\tshould.not.exist(setError);\n\t\t\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\t\t\tshould.not.exist(gnvError);\n\t\t\t\tzk.setNodeValue(nodePath, 'Hello DDing', state1.version, function(setError, state2){\n\t\t\t\t\tshould.not.exist(setError);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "62a4f18a-a085-4a5a-923e-c27ca623ab1f",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client watch node delete",
      "fullTitle": "Zookeeper Client Test zookeeper client watch node delete",
      "timedOut": false,
      "duration": 2,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addWatcher(nodePath);\n\tzk.on('delete', function(deletePath){\n\t\tdeletePath.should.be.equal(nodePath);\n\t\tzk.getNodeValue(nodePath, function(err){\n\t\t\terr.code.should.be.equal(-101);\n\t\t\treturn next();\n\t\t});\n\t});\n\tzk.getNodeValue(nodePath, function(gnvError, v1, state1){\n\t\tshould.not.exist(gnvError);\n\t\tzk.removeNode(nodePath, state1.version, function(delError){\n\t\t\tshould.not.exist(delError);\n\t\t});\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "d9deb9df-fbe0-4e54-a2c5-4fef6ad0cc34",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "zookeeper client watch add child node",
      "fullTitle": "Zookeeper Client Test zookeeper client watch add child node",
      "timedOut": false,
      "duration": 5,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "var zk = ZookeeperClient.create(options);\nzk.createPersistentNode(nodePath, value, function(cpError, result){\n\tshould.not.exist(cpError);\n\tzk.addChildWatcher(nodePath);\n\tzk.on('child', function(updatePath){\n\t\tzk.getNodeChild(nodePath, function(gncError, childrens){\n\t\t\tshould.not.exist(gncError);\n\t\t\tif(childrens.indexOf(child1) != -1) return next();\n\t\t});\n\t});\n\tzk.createPersistentNode(nodePath+'/'+child1, value+':'+child1, function(c1Error, result){\n\t\tshould.not.exist(c1Error);\n\t});\n});",
      "err": {},
      "isRoot": false,
      "uuid": "86f3a88c-ad5b-4794-9a27-32b6f8481220",
      "parentUUID": "edc911e4-18f8-4410-a0b7-de7487177e27",
      "skipped": false
    },
    {
      "title": "Server create",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server create",
      "timedOut": false,
      "duration": 0,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tshould.exist(zs);\n\t\treturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "a948fee2-bcc9-441f-ac21-a9f1e7d15aa2",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server init zookeeper",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server init zookeeper",
      "timedOut": false,
      "duration": 0,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tshould.exist(zs.zookeeperOpts);\n\t\tshould.exist(zs.zookeeper);\n\t\treturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "c16d4245-6450-4a49-a8eb-816b899ac305",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server init connection",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server init connection",
      "timedOut": false,
      "duration": 0,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\t\tshould.exist(zs.connectionOpts);\n\t\tshould.exist(zs.connection);\n\t\tshould.exist(zs.services);\n\t\tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_INITED);\n\t\treturn next();",
      "err": {},
      "isRoot": false,
      "uuid": "3ddaddf6-b66d-4f21-80d5-199ff7d2a7c8",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server start",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server start",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\n\t    zs.start(function(){\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\n\t    \treturn next();\n\t    });",
      "err": {},
      "isRoot": false,
      "uuid": "9752ebac-b325-4ac6-be02-de780d601421",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server close",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server close",
      "timedOut": false,
      "duration": 1,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zs = new ZServer();\n\t\tzs.initZookeeper(zkOption);\n\t\tzs.initConnection(serverOption);\n\n\t    zs.start(function(){\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_STARTED);\n\t    \tzs.close();\n\t    \tzs.connection.state.should.equal(DDing_thrift.SERVER_STATE.STATE_CLOSED);\n\t    \treturn next();\n\t    });",
      "err": {},
      "isRoot": false,
      "uuid": "da4532c1-855f-427a-8119-e09009cce098",
      "parentUUID": "3c3b3cd6-5753-4c46-8907-114730399aa3",
      "skipped": false
    },
    {
      "title": "Server register service",
      "fullTitle": "Thrift Server With Zookeeper In Common Connect Test Server register service",
      "timedOut": false,
      "duration": 6,
      "state": "passed",
      "speed": "fast",
      "pass": true,
      "fail": false,
      "pending": false,
      "code": "zwss = ZWSServer.create();\nzwss.initZookeeper(zkOption);\nzwss.initConnection(serverOption);\nzwss.registerService(serviceName, {\n  add: function(num1, num2, cb){\n    return cb(null, num1+num2);\n  }\n});\nshould.exist(zwss.services[serviceName].add);\nzwss.start('/', function(){\n  getNodeValue_Protogenesis(zkOption, zkServicePath, function(gnErr, data, state){\n    should.not.exist(gnErr);\n    should.exist(data);\n    should.exist(state);\n    getNodeValue_Protogenesis(zkOption, zkNodePath, function(gnErr2, data, state){\n      should.not.exist(gnErr2);\n      should.exist(data);\n      JSON.parse(data).connection_type.should.be.equal(DDing_thrift.CONNECTION_TYPE.WEB_SOCKET);\n      should.exist(state);\n      return next();\n    })\n  });\n});",
      "err": {},
      "isRoot": false,
      "uuid": "5bedd760-2746-42d0-a6ce-c2d572f0c183",
      "parentUUID": "a0c8a277-3be3-42f1-b6cf-83f6827f1a7a",
      "skipped": false
    }
  ],
  "allFailures": [],
  "copyrightYear": 2017
}